<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report1" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="cc759950-387b-4b7d-9f7e-9160fd69364a">
	<property name="ireport.zoom" value="1.3636363636363635"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="style1">
		<conditionalStyle>
			<conditionExpression><![CDATA[$F{APROVADO}.equals("Reprovado")]]></conditionExpression>
			<style forecolor="#FF3333"/>
		</conditionalStyle>
	</style>
	<parameter name="dataini" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="datafim" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="perfil" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="logo" class="java.io.InputStream" isForPrompting="false"/>
	<parameter name="teste" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
     DESC_TESTE,
     Cad_EspecLab."ID_MATERIAL_ID" AS ID_MATERIAL_ID,
     ESPEC_COMPLETO,
     i.DATA_JET,
     i.HORA_JET,
     RESULTADO_TEXTO,
     RESULTADO_NUM,
     DESC_MATERIAL,
     STATUS,
     MINIMO,
     MAXIMO,
     DATA_REGISTRO,
     REFERENCIA,
     Cad_ResultadoInsp."TIPO" AS TIPO,
     Cad_EspecLab."TIPO_ESPEC" AS TIPO_ESPEC
FROM
     Cad_EspecLab INNER JOIN Cad_ResultadoInsp ON Cad_EspecLab."ID" = Cad_ResultadoInsp."ID_ESPECIFICACAO_ID"
     INNER JOIN Cad_Teste ON ID_TESTE_ID = COD_TESTE
     INNER JOIN Cad_Material ON ID_MATERIAL_ID = MATERIAL
     INNER JOIN INSP_Controle i ON Cad_ResultadoInsp.ID_CONTROLE = i.ID
     WHERE CONVERT(date, DATA_REGISTRO, 101) BETWEEN $P{dataini} AND $P{datafim}
     and ID_MATERIAL_ID = $P{perfil}
     AND DESC_TESTE = $P{teste}]]>
	</queryString>
	<field name="DESC_TESTE" class="java.lang.String"/>
	<field name="ID_MATERIAL_ID" class="java.lang.Integer"/>
	<field name="ESPEC_COMPLETO" class="java.lang.String"/>
	<field name="DATA_JET" class="java.lang.String"/>
	<field name="HORA_JET" class="java.lang.String"/>
	<field name="RESULTADO_TEXTO" class="java.lang.String"/>
	<field name="RESULTADO_NUM" class="java.lang.Double"/>
	<field name="DESC_MATERIAL" class="java.lang.String"/>
	<field name="STATUS" class="java.lang.String"/>
	<field name="MINIMO" class="java.lang.Double"/>
	<field name="MAXIMO" class="java.lang.Double"/>
	<field name="DATA_REGISTRO" class="java.sql.Timestamp"/>
	<field name="REFERENCIA" class="java.lang.String"/>
	<field name="TIPO" class="java.lang.String"/>
	<field name="TIPO_ESPEC" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<summary>
		<band height="555">
			<lineChart>
				<chart isShowLegend="false">
					<reportElement x="0" y="78" width="802" height="477" uuid="a22acb1a-e7c8-4d66-b990-f22ccd75df48"/>
					<chartTitle/>
					<chartSubtitle/>
					<chartLegend/>
				</chart>
				<categoryDataset>
					<categorySeries>
						<seriesExpression><![CDATA[new String ("Valor Encontrado")]]></seriesExpression>
						<categoryExpression><![CDATA[new SimpleDateFormat("dd/MM/yyyy").format($F{DATA_REGISTRO})+" "+new SimpleDateFormat("HH:mm").format($F{DATA_REGISTRO})]]></categoryExpression>
						<valueExpression><![CDATA[$F{RESULTADO_NUM}]]></valueExpression>
						<labelExpression><![CDATA["Encontrado"]]></labelExpression>
					</categorySeries>
					<categorySeries>
						<seriesExpression><![CDATA[new String ("Valor Máximo")]]></seriesExpression>
						<categoryExpression><![CDATA[new SimpleDateFormat("dd/MM/yyyy").format($F{DATA_REGISTRO})+" "+new SimpleDateFormat("HH:mm").format($F{DATA_REGISTRO})]]></categoryExpression>
						<valueExpression><![CDATA[$F{MAXIMO}]]></valueExpression>
					</categorySeries>
					<categorySeries>
						<seriesExpression><![CDATA[new String("Valor Mínimo")]]></seriesExpression>
						<categoryExpression><![CDATA[new SimpleDateFormat("dd/MM/yyyy").format($F{DATA_REGISTRO})+" "+new SimpleDateFormat("HH:mm").format($F{DATA_REGISTRO})]]></categoryExpression>
						<valueExpression><![CDATA[$F{MINIMO}]]></valueExpression>
					</categorySeries>
				</categoryDataset>
				<linePlot isShowLines="true" isShowShapes="true">
					<plot labelRotation="60.0"/>
					<categoryAxisFormat labelRotation="60.0">
						<axisFormat verticalTickLabels="true">
							<tickLabelFont>
								<font size="10"/>
							</tickLabelFont>
						</axisFormat>
					</categoryAxisFormat>
					<valueAxisFormat>
						<axisFormat/>
					</valueAxisFormat>
					<rangeAxisMinValueExpression><![CDATA[$F{MINIMO}-($F{MAXIMO}-$F{MINIMO})*0.2]]></rangeAxisMinValueExpression>
					<rangeAxisMaxValueExpression><![CDATA[$F{MAXIMO}+($F{MAXIMO}-$F{MINIMO})*0.2]]></rangeAxisMaxValueExpression>
				</linePlot>
			</lineChart>
			<staticText>
				<reportElement x="0" y="55" width="38" height="23" uuid="64fe9e7c-a1d3-428c-b7ba-d8e4bf800b17"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Teste:]]></text>
			</staticText>
			<staticText>
				<reportElement x="611" y="0" width="29" height="20" uuid="fc9987c9-827a-4b83-952c-6673a08430ba"/>
				<textElement textAlignment="Right" verticalAlignment="Middle" rotation="None">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Data:]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="640" y="0" width="68" height="20" uuid="dbde820f-fb68-49cc-8d82-864e187bedff"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None">
					<font size="12" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{dataini}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="708" y="0" width="26" height="20" uuid="3d4aa5cf-2318-478a-a21a-f6cdc20dd586"/>
				<textElement verticalAlignment="Middle" rotation="None">
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["até"]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="734" y="0" width="68" height="20" uuid="5564fb3b-352e-423f-b70d-f8bd4aeed825"/>
				<textElement verticalAlignment="Middle" rotation="None">
					<font size="12" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{datafim}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="311" y="0" width="36" height="20" uuid="d8e35da1-5320-4176-baa5-25c457b79891"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Perfil:]]></text>
			</staticText>
			<textField>
				<reportElement x="268" y="-388" width="94" height="15" uuid="144b87c6-bf40-4743-8bdc-cf73e0f81f6a"/>
				<textElement verticalAlignment="Middle" rotation="None">
					<font isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ID_MATERIAL_ID}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="718" y="55" width="27" height="23" isRemoveLineWhenBlank="true" isPrintInFirstWholeBand="true" isPrintWhenDetailOverflows="true" uuid="fa474eb6-bfd4-42c6-8d28-471cea082b73"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{MINIMO}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="755" y="55" width="26" height="23" uuid="d4e40670-8f59-4270-9c28-a846d039ade0"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{MAXIMO}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="745" y="55" width="11" height="23" uuid="dd578abe-50f1-41f6-88e1-1834422ef666"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[à]]></text>
			</staticText>
			<staticText>
				<reportElement x="629" y="55" width="89" height="23" uuid="d23fe891-2acf-42b1-8fe0-33324c119146"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Especificação:]]></text>
			</staticText>
			<image isUsingCache="true">
				<reportElement x="0" y="0" width="150" height="32" uuid="9005d078-7120-4332-a6e8-e3db1a288fd2"/>
				<imageExpression><![CDATA[$P{logo}]]></imageExpression>
			</image>
			<textField>
				<reportElement x="38" y="55" width="100" height="23" uuid="f7678e76-568d-44fd-b66c-93bfe101046e"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{DESC_TESTE}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="347" y="0" width="100" height="20" uuid="54c1d584-2e71-4731-a4e5-f27e8d86ad02"/>
				<textElement verticalAlignment="Middle">
					<font isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ID_MATERIAL_ID}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
